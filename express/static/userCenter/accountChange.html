<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>个人中心</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <!-- 引入样式 -->
    <link rel="stylesheet" href="../css/ydui.rem.css">
    
    <!--引入自定义样式-->
    <link rel="stylesheet" type="text/css" href="../css/index.css"/>
    <link rel="stylesheet" href="../font/iconfont.css">
    <!--自定义icon-->
    <link rel="stylesheet" href="../font/iconfont.css">
    <script src="../js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/fastclick.js" type="text/javascript" charset="utf-8"></script>
    <!-- 引入rem自适应类库 -->
    <script src="../js/ydui.flexible.js"></script>
    <!-- 引入 Vue -->
	<script src="../js/vue.js"></script>
	<!-- 引入组件库 -->
	<script src="../js/ydui.js"></script>
	<script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
<div id="app" v-cloak>
	<div id="accountChange">
		<div v-for="(item,key) in list"  :class="item.isDefault?'account-con  default':'account-con'">
			<div class="cir">{{key+1}}</div>
			<div class="list-con">
				<div class="item">
					<div class="icon">
						<img src="http://bucket-shwy.oss-cn-hangzhou.aliyuncs.com/wechat/image/binding_icon_01.png"/>
					</div>
					<div class="text">
						{{item.address}}
					</div>
				</div>
				<div class="item">
					<div class="icon">
						<img src="http://bucket-shwy.oss-cn-hangzhou.aliyuncs.com/wechat/image/binding_icon_02.png"/>
					</div>
					<div class="text">
						{{item.plateNum}}
					</div>
				</div>
			</div>
			<div class="set" @click="item.isDefault?'return false':changeAccount(item.id)">
				<label></label>
				<span class="text">设为默认地址</span>
			</div>	
		</div>
		
	</div>
		
</div>

<script>

	$(function() {
	    FastClick.attach(document.body);
	    new Vue({
	        el: '#app',
	        data:{
	        	list:[
	        		{
	        			id:'001',
	        			address:'**小区*幢1101室',
	        			isDefault:true,
	        			plateNum:'沪A00001',
	        		},
	        		{
	        			id:'002',
	        			address:'**小区*幢1102室',
	        			isDefault:false,
	        			plateNum:'沪A00001',
	        		},
	        		{
	        			id:'003',
	        			address:'**小区*幢1102室',
	        			isDefault:false,
	        			plateNum:'沪A00001',
	        		},
	        	]
	        	
	        },
	        methods: {
	        	changeAccount:function(id){
	           		var _this = this;
	           		this.$dialog.loading.open('数据提交中...');
						
	                setTimeout(() => {
	                    this.$dialog.loading.close();
	                    this.$dialog.toast({
		                    mes: '修改成功！',
		                    timeout: 1000,
		                    icon: 'success'
		                });
		                _this.list.forEach(function(item,index){
		           			if(item.id == id){
		           				item.isDefault = true;
		           			}else{
		           				item.isDefault = false;
		           			}
		           		})
	                }, 2000);
	                
	           		
	           		
	            }
	        },
	        
	       
	        
	    })
	});
    
</script>
</body>
</html>