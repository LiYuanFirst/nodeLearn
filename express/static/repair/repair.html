<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>报事报修</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <!-- 引入样式 -->
    <link rel="stylesheet" href="../css/ydui.rem.css">
    
    <!--引入自定义样式-->
    <link rel="stylesheet" type="text/css" href="../css/index.css"/>
    <script src="../js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/fastclick.js" type="text/javascript" charset="utf-8"></script>
    
    <link rel="stylesheet" href="../font/iconfont.css">
    <!-- 引入rem自适应类库 -->
    <script src="../js/ydui.flexible.js"></script>
    <!-- 引入 Vue -->
	<script src="../js/vue.js"></script>
	<!-- 引入组件库 -->
	<script src="../js/ydui.js"></script>
</head>
<body>
<div id="app" v-cloak>
	<div class="repair-header"  v-on:click = "selectShow=''">
		<yd-grids-group :rows="2">
	        <yd-grids-item type="a"link="./repairSub.html?type=1">
	            <img slot="icon" src="http://bucket-shwy.oss-cn-hangzhou.aliyuncs.com/wechat/image/repair_list_btn1.png">
	            <span slot="text">报修</span>
	        </yd-grids-item>
	        <yd-grids-item type="a"link="./repairSub.html?type=2">
	            <img slot="icon" src="http://bucket-shwy.oss-cn-hangzhou.aliyuncs.com/wechat/image/repair_list_btn2.png">
	            <span slot="text">预约维修</span>
	        </yd-grids-item>
	    </yd-grids-group>
	</div>
	<div class="repair-neck">
		<yd-grids-group :rows="3" title="">
	        <yd-grids-item type="label"link="javaScript:void(0);"@click.native= "selectDown(0)">
	            <span slot="text"><span class="text"v-text="orderType1.selectText"></span><i class="icon iconfont icon-xiajiantou" style="font-size: .28rem;margin-left: 2px;"/></i></span>
	        </yd-grids-item>
	        <yd-grids-item type="a"link="javaScript:void(0);"@click.native= "selectDown(1)">
	            <span slot="text"><span class="text" v-text="orderType2.selectText"></span><i class="icon iconfont icon-xiajiantou" style="font-size: .28rem;"/></i></span>
	        </yd-grids-item>
	        <yd-grids-item type="a"link="javaScript:void(0);"@click.native= "selectDown(2)">
	            <span slot="text"><span class="text" v-text="orderType3.selectText"></span><i class="icon iconfont icon-xiajiantou" style="font-size: .28rem;"/></i></span>
	        </yd-grids-item>
	    </yd-grids-group>
	    
    </div>
    <div class="repair-list-con" >
    	<div class="repair-list-box">
    		<div class="list-type">
    			2017-11-03
    		</div>
	    	<yd-cell-group>
		        <yd-cell-item arrow type="a" >
		            <img slot="icon" src="http://bucket-shwy.oss-cn-hangzhou.aliyuncs.com/wechat/image/repair_list_icon1.png">
		            <div slot="left">
		            	<div class="list-title">我的订单</div>
		            	<div class="list-time">
		            		2017-11-03 12:00
		            	</div>
		            </div>
		            <span slot="right"><span class="list-item-status" v-bind:class="{red:isRed}">正在派遣中</span></span>
		        </yd-cell-item>
		
		    </yd-cell-group>
		</div>
		<div class="repair-list-box">
    		<div class="list-type">
    			2017-11-02
    		</div>
	    	<yd-cell-group>
		        <yd-cell-item arrow type="a" href="./repairDetail.html">
		            <img slot="icon" src="http://bucket-shwy.oss-cn-hangzhou.aliyuncs.com/wechat/image/repair_list_icon1.png">
		            <div slot="left">
		            	<div class="list-title">我的订单</div>
		            	<div class="list-time">
		            		2017-11-03 12:00
		            	</div>
		            </div>
		            <span slot="right"><span class="list-item-status">已完成</span></span>
		        </yd-cell-item>
		
		        <yd-cell-item arrow type="a" >
		            <img slot="icon" src="http://bucket-shwy.oss-cn-hangzhou.aliyuncs.com/wechat/image/repair_list_icon2.png">
		            <div slot="left">
		            	<div class="list-title">我的订单</div>
		            	<div class="list-time">
		            		2017-11-03 12:00
		            	</div>
		            </div>
		            <span slot="right"><span class="list-item-status" >已取消</span></span>
		        </yd-cell-item>
		
		    </yd-cell-group>
		</div>
    </div>
    <div class="select-con" v-on:click = "selectUp">
	    	<div class="select-box type1">
	    		<yd-cell-group >
	    			<yd-cell-item v-for="(value,key) in orderType1.list" type="label" :class="{active:key==orderType1.selectKey}"@click.native="changOrderType('type1',key)">
		                <span slot="left"><span class="text">{{value.text}}</span></span>
		                <span slot="right"><i class="icon iconfont icon-duigou" style="font-size: .28rem;"/></i></span>
		            </yd-cell-item>
		           
		        </yd-cell-group>
		    </div>  
		    <div class="select-box type2" >
		        <yd-cell-group >
	    			<yd-cell-item v-for="(value,key) in orderType2.list" type="label" :class="{active:key==orderType2.selectKey}"@click.native="changOrderType('type2',key)">
		                <span slot="left"><span class="text">{{value.text}}</span></span>
		                <span slot="right"><i class="icon iconfont icon-duigou" style="font-size: .28rem;"/></i></span>
		            </yd-cell-item>
		        </yd-cell-group>
		    </div>  
		    <div class="select-box type3">
		        <yd-cell-group>
	    			<yd-cell-item v-for="(value,key) in orderType3.list" type="label" :class="{active:key==orderType3.selectKey}"@click.native="changOrderType('type3',key)">
		                <span slot="left"><span class="text">{{value.text}}</span></span>
		                <span slot="right"><i class="icon iconfont icon-duigou" style="font-size: .28rem;"/></i></span>
		            </yd-cell-item>
		        </yd-cell-group>
	    	</div>
	    	
	    </div>
</div>

<script>
	
	$(function() {
	    FastClick.attach(document.body);
	    
	});
    new Vue({
        el: '#app',
        data:{
        	selectShow:'',
        	isRed:true,
        	orderType1:{
        		selectText:'所有状态',
        		selectKey:0,
        		list:[
	        		{text:'所有状态'},
	        		{text:'已完成'},
	        		{text:'已取消'},
	        		{text:'施工中'}
	        	]
        	},
        	orderType2:{
        		selectText:'所有订单',
        		selectKey:0,
        		list:[
	        		{text:'所有订单'},
	        		{text:'已完成'},
	        		{text:'已取消'},
	        		{text:'施工中'}
	        	]
        	},
        	orderType3:{
        		selectText:'所有月份',
        		selectKey:0,
        		list:[
	        		{text:'所有月份'},
	        		{text:'已完成'},
	        		{text:'已取消'},
	        		{text:'施工中'}
	        	]
        	}
        },
        methods: {
            selectDown:function(i){
	            $('.select-con').show()
	            $('.select-box').hide();
	            $('.select-box').eq(i).slideDown()
           
            },
            selectUp:function(){
           	    $('.select-con').fadeOut()
	            $('.select-box').hide();
            },
            changOrderType:function(sta1,num){
            	var that = this;
           		switch (sta1){
           			case 'type1':
           				that.orderType1.selectText= that.orderType1.list[num].text;
           				that.orderType1.selectKey = num;
           				break;
           			case 'type2':
           				that.orderType2.selectText= that.orderType2.list[num].text;
           				that.orderType2.selectKey = num;
           				break;
           			case 'type3':
           				that.orderType3.selectText= that.orderType3.list[num].text;
           				that.orderType3.selectKey = num;
           				break;
           			
           		}
           	
            }
        }
        
    })
</script>
</body>
</html>